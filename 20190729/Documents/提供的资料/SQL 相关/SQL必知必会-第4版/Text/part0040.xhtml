<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>未知</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <link href="../Styles/style0002.css" rel="stylesheet" type="text/css"/>
<link href="../Styles/style0001.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<h2 class="calibre15" id="nav_point_56">7.3  执行算术计算</h2><p class="calibre2">计算字段的另一常见用途是对检索出的数据进行算术计算。举个例子，<code class="calibre11">Orders</code>表包含收到的所有订单，<code class="calibre11">OrderItems</code>表包含每个订单中的各项物品。下面的SQL语句检索订单号<code class="calibre11">20008</code>中的所有物品：</p>

<p class="calibre2"><strong class="calibre3">输入▼</strong></p>

<pre class="calibre10"><code class="calibre11">SELECT prod_id, quantity, item_price
FROM OrderItems
WHERE order_num = 20008; 
</code></pre>

<p class="calibre2"><strong class="calibre3">输出▼</strong></p>

<pre class="calibre10"><code class="calibre11">prod_id        quantity        item_price
----------     -----------     ---------------------
RGAN01         5               4.9900
BR03           5               11.9900
BNBG01         10              3.4900
BNBG02         10              3.4900
BNBG03         10              3.4900
</code></pre>

<p class="calibre2"><code class="calibre11">item_price</code>列包含订单中每项物品的单价。如下汇总物品的价格（单价乘以订购数量）：</p>

<p class="calibre2"><strong class="calibre3">输入▼</strong></p>

<pre class="calibre10"><code class="calibre11">SELECT prod_id,
       quantity,
       item_price,
       quantity*item_price AS expanded_price
FROM OrderItems
WHERE order_num = 20008; 
</code></pre>

<p class="calibre2"><strong class="calibre3">输出▼</strong></p>

<pre class="calibre10"><code class="calibre11">prod_id        quantity        item_price       expanded_price
----------     -----------     ------------     -----------------
RGAN01         5               4.9900           24.9500
BR03           5               11.9900          59.9500
BNBG01         10              3.4900           34.9000
BNBG02         10              3.4900           34.9000
BNBG03         10              3.4900           34.9000 
</code></pre>

<p class="calibre2"><strong class="calibre3">分析▼</strong><br class="calibre14"/>
输出中显示的<code class="calibre11">expanded_price</code>列是一个计算字段，此计算为<code class="calibre11">quantity*item_price</code>。客户端应用现在可以使用这个新计算列，就像使用其他列一样。</p>

<p class="calibre2">SQL支持表7-1中列出的基本算术操作符。此外，圆括号可用来区分优先顺序。关于优先顺序的介绍，请参阅第5课。</p>

<p class="calibre2"><strong class="calibre3">表7-1  SQL算术操作符</strong></p>

<table class="table">
   <tr class="calibre16">
      <th class="calibre17">操 作 符</th>
      <th class="calibre17">说　　明</th>
   </tr>
   <tr class="calibre18">
      <td class="calibre19">+</td>
      <td class="calibre19">加</td>
   </tr>
   <tr class="calibre16">
      <td class="calibre19">-</td>
      <td class="calibre19">减</td>
   </tr>
   <tr class="calibre18">
      <td class="calibre19">*</td>
      <td class="calibre19">乘</td>
   </tr>
   <tr class="calibre16">
      <td class="calibre19">/</td>
      <td class="calibre19">除</td>
   </tr>
   <tr class="calibre18">
   </tr>
   <tr class="calibre16">
   </tr>
</table>

<blockquote class="calibre13">
  <p class="calibre2"><strong class="calibre3">提示：如何测试计算</strong><br class="calibre14"/>
  <code class="calibre11">SELECT</code>语句为测试、检验函数和计算提供了很好的方法。虽然<code class="calibre11">SELECT</code>通常用于从表中检索数据，但是省略了<code class="calibre11">FROM</code>子句后就是简单地访问和处理表达式，例如<code class="calibre11">SELECT 3 * 2;</code>将返回6，<code class="calibre11">SELECT Trim(' abc ');</code>将返回<code class="calibre11">abc</code>，<code class="calibre11">SELECT Now();</code>使用<code class="calibre11">Now()</code>函数返回当前日期和时间。现在你明白了，可以根据需要使用<code class="calibre11">SELECT</code>语句进行检验。</p>
</blockquote>
</body>
</html>
